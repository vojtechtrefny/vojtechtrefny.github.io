<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
<title>LVM2 Storages</title>
<link rel="stylesheet" type="text/css" href="C.css">
<script type="text/javascript" src="jquery.js"></script><script type="text/javascript" src="jquery.syntax.js"></script><script type="text/javascript" src="yelp.js"></script>
</head>
<body><div class="page" role="main">
<div class="header"><div class="trails" role="navigation"><div class="trail">
<a class="trail" href="index.html" title="blivet-gui">blivet-gui</a> » </div></div></div>
<div class="body">
<div class="hgroup"><h1 class="title"><span class="title">LVM2 Storages</span></h1></div>
<div class="region">
<div class="contents"><div class="list"><div class="inner"><div class="region"><ul class="list">
<li class="list"><div class="title title-item"><h2><span class="title"><span class="link"><a href="#representation" title="LVM2 in blivet-gui">LVM2 in blivet-gui</a></span></span></h2></div></li>
<li class="list"><div class="title title-item"><h2><span class="title"><span class="link"><a href="#storage" title="Creating LVM2 Storages">Creating LVM2 Storages</a></span></span></h2></div></li>
<li class="list"><div class="title title-item"><h2><span class="title"><span class="link"><a href="#pv" title="Creating LVM2 Physical Volumes">Creating LVM2 Physical Volumes</a></span></span></h2></div></li>
<li class="list"><div class="title title-item"><h2><span class="title"><span class="link"><a href="#vg" title="Creating LVM2 Volume Groups">Creating LVM2 Volume Groups</a></span></span></h2></div></li>
<li class="list"><div class="title title-item"><h2><span class="title"><span class="link"><a href="#lv" title="Creating LVM2 Logical Volumes">Creating LVM2 Logical Volumes</a></span></span></h2></div></li>
<li class="list"><div class="title title-item"><h2><span class="title"><span class="link"><a href="#delete" title="Deleting LVM2 Storages">Deleting LVM2 Storages</a></span></span></h2></div></li>
</ul></div></div></div></div>
<div id="representation" class="sect"><div class="inner">
<div class="hgroup"><h2 class="title"><span class="title">LVM2 in blivet-gui</span></h2></div>
<div class="region"><div class="contents">
<p class="p">LVM2 storages basically consist of (at least) one physical volume (disk, partition, RAID...) that hosts volume groups.
	Volume groups contains logical volumes that works (from system point of view) as standard partitions.</p>
<div class="figure"><div class="inner">
<a href="#" class="zoom" data-zoom-in-title="View images at normal size" data-zoom-out-title="Scale images down"></a><div class="title title-figure"><h3><span class="title">LVM2 Volume Group in blivet-gui</span></h3></div>
<div class="region"><div class="contents"><div class="media media-image"><div class="inner"><img src="images/lvm2-vg.png" width="600" class="media media-block" alt=""></div></div></div></div>
</div></div>
<p class="p">Volume groups in the specific section in the device list at the left side of blivet-gui window.</p>
<p class="p">Physical volumes can contain one volume group, volume groups can contain (in theory) infinite number of logical volumes.</p>
<p class="p">In the image shown above, there is one volume groups - <span class="em">fedora</span> placed on two physical volumes - sda2 and sdb1.</p>
</div></div>
</div></div>
<div id="storage" class="sect"><div class="inner">
<div class="hgroup"><h2 class="title"><span class="title">Creating LVM2 Storages</span></h2></div>
<div class="region"><div class="contents">
<p class="p">LVM2 Storage represents whole LVM2 "ecosystem" - by creating it you will create physical volume with volume group.</p>
<div class="steps"><div class="inner"><div class="region"><ol class="steps">
<li class="steps"><p class="p">Select a disk with free space from the list of <span class="gui">Disks</span>.</p></li>
<li class="steps"><p class="p">From <span class="gui">Partitions</span> tab select <span class="em">free space</span> line.</p></li>
<li class="steps"><p class="p">Click on <span class="gui">Add</span> button in toolbar or just press <span class="key"><kbd>Insert</kbd></span>.</p></li>
</ol></div></div></div>
<p class="p">Create new device window will be opened.</p>
<div class="figure"><div class="inner">
<a href="#" class="zoom" data-zoom-in-title="View images at normal size" data-zoom-out-title="Scale images down"></a><div class="title title-figure"><h3><span class="title">Create new Storage</span></h3></div>
<div class="region"><div class="contents"><div class="media media-image"><div class="inner"><img src="images/new-lvm2-storage.png" width="400" class="media media-block" alt=""></div></div></div></div>
</div></div>
<div class="steps"><div class="inner"><div class="region"><ol class="steps">
<li class="steps"><p class="p">Set <span class="gui">Device type</span> to <span class="gui">LVM2 Storage</span>.</p></li>
<li class="steps"><p class="p">From list of <span class="gui">Available devices</span> select at least one free space (the one selected in previous steps will pre-selected).</p></li>
<li class="steps"><p class="p">Select the amout of space used from every "parent" device selected in previous step.</p></li>
<li class="steps"><p class="p">Set <span class="gui">Name</span> for your volume group (if left blank, system will choose name based on machine <span class="em">hostname</span>).</p></li>
<li class="steps"><p class="p">It's possible to create encrypted LVM using LUKS/dm-crypt. Check <span class="gui">Encrypt</span> option and fill in passphrase.</p></li>
<li class="steps"><p class="p">Under <span class="gui">Advanced options</span> is possible to select <span class="em">physical extents</span> size.</p></li>
<li class="steps"><p class="p">Hit <span class="gui">OK</span> to create the storage.</p></li>
</ol></div></div></div>
<div class="note" title="Note"><div class="inner"><div class="region"><div class="contents"><p class="p">All changes you make are only temporary. They won't be written to disks until you use the <span class="gui">Apply</span> button. See <span class="link"><a href="actions.html" title="Actions">Actions</a></span>.</p></div></div></div></div>
</div></div>
</div></div>
<div id="vg" class="sect"><div class="inner">
<div class="hgroup"><h2 class="title"><span class="title">Creating LVM2 Volume Groups</span></h2></div>
<div class="region"><div class="contents">
<div class="steps"><div class="inner"><div class="region"><ol class="steps">
<li class="steps"><p class="p">Select a disk with an empty physical volume from the list of <span class="gui">Disks</span>.</p></li>
<li class="steps"><p class="p">From <span class="gui">Partitions</span> tab select <span class="em">free space</span> in this volume.</p></li>
<li class="steps"><p class="p">Click on <span class="gui">Add</span> button in toolbar or just press <span class="key"><kbd>Insert</kbd></span>.</p></li>
</ol></div></div></div>
<p class="p">Create new device window will be opened.</p>
<div class="figure"><div class="inner">
<a href="#" class="zoom" data-zoom-in-title="View images at normal size" data-zoom-out-title="Scale images down"></a><div class="title title-figure"><h3><span class="title">Create new Volume Group</span></h3></div>
<div class="region"><div class="contents"><div class="media media-image"><div class="inner"><img src="images/new-lvm2-vg.png" width="400" class="media media-block" alt=""></div></div></div></div>
</div></div>
<div class="steps"><div class="inner"><div class="region"><ol class="steps">
<li class="steps"><p class="p">From list of <span class="gui">Available devices</span> select at least one free physical volume (the one selected in previous steps will pre-selected).</p></li>
<li class="steps"><p class="p">Set <span class="gui">Name</span> for your volume group (if left blank, system will choose name based on machine <span class="em">hostname</span>).</p></li>
<li class="steps"><p class="p">It's possible to create encrypted LVM using LUKS/dm-crypt. Check <span class="gui">Encrypt</span> option and fill in passphrase.</p></li>
<li class="steps"><p class="p">Hit <span class="gui">OK</span> to create volume.</p></li>
</ol></div></div></div>
<div class="note" title="Note"><div class="inner"><div class="region"><div class="contents"><p class="p">All changes you make are only temporary. They won't be written to disks until you use the <span class="gui">Apply</span> button. See <span class="link"><a href="actions.html" title="Actions">Actions</a></span>.</p></div></div></div></div>
</div></div>
</div></div>
<div id="pv" class="sect"><div class="inner">
<div class="hgroup"><h2 class="title"><span class="title">Creating LVM2 Physical Volumes</span></h2></div>
<div class="region"><div class="contents">
<div class="steps"><div class="inner"><div class="region"><ol class="steps">
<li class="steps"><p class="p">Select a disk with free space from the list of <span class="gui">Disks</span>.</p></li>
<li class="steps"><p class="p">From <span class="gui">Partitions</span> tab select <span class="em">free space</span> line.</p></li>
<li class="steps"><p class="p">Click on <span class="gui">Add</span> button in toolbar or just press <span class="key"><kbd>Insert</kbd></span>.</p></li>
</ol></div></div></div>
<p class="p">Create new device window will be opened.</p>
<div class="figure"><div class="inner">
<a href="#" class="zoom" data-zoom-in-title="View images at normal size" data-zoom-out-title="Scale images down"></a><div class="title title-figure"><h3><span class="title">Create new Physical Volume</span></h3></div>
<div class="region"><div class="contents"><div class="media media-image"><div class="inner"><img src="images/new-lvm2-pv.png" width="400" class="media media-block" alt=""></div></div></div></div>
</div></div>
<div class="steps"><div class="inner"><div class="region"><ol class="steps">
<li class="steps"><p class="p">Set <span class="gui">Device type</span> to <span class="gui">LVM2 Physical Volume</span>.</p></li>
<li class="steps"><p class="p">Set size for your physical volume.</p></li>
<li class="steps"><p class="p">It's possible to create encrypted LVM using LUKS/dm-crypt. Check <span class="gui">Encrypt</span> option and fill in passphrase.</p></li>
<li class="steps"><p class="p">Hit <span class="gui">OK</span> to create volume.</p></li>
</ol></div></div></div>
<div class="note" title="Note"><div class="inner"><div class="region"><div class="contents"><p class="p">All changes you make are only temporary. They won't be written to disks until you use the <span class="gui">Apply</span> button. See <span class="link"><a href="actions.html" title="Actions">Actions</a></span>.</p></div></div></div></div>
</div></div>
</div></div>
<div id="lv" class="sect"><div class="inner">
<div class="hgroup"><h2 class="title"><span class="title">Creating LVM2 Logical Volumes</span></h2></div>
<div class="region"><div class="contents">
<div class="steps"><div class="inner"><div class="region"><ol class="steps">
<li class="steps"><p class="p">Select a volume group with free space from the list of <span class="gui">LVM2 Volume Groups</span>.</p></li>
<li class="steps"><p class="p">From <span class="gui">Partitions</span> tab select <span class="em">free space</span> line.</p></li>
<li class="steps"><p class="p">Click on <span class="gui">Add</span> button in toolbar or just press <span class="key"><kbd>Insert</kbd></span>.</p></li>
</ol></div></div></div>
<p class="p">Create new partition window will be opened.</p>
<div class="figure"><div class="inner">
<a href="#" class="zoom" data-zoom-in-title="View images at normal size" data-zoom-out-title="Scale images down"></a><div class="title title-figure"><h3><span class="title">Create new Logical Volume</span></h3></div>
<div class="region"><div class="contents"><div class="media media-image"><div class="inner"><img src="images/new-lvm2-lv.png" width="400" class="media media-block" alt=""></div></div></div></div>
</div></div>
<div class="steps"><div class="inner"><div class="region"><ol class="steps">
<li class="steps"><p class="p">Set size for your new logical volume.</p></li>
<li class="steps"><p class="p">Choose <span class="gui">Filesystem</span>. Optionally you can set <span class="gui">Name</span> too.</p></li>
<li class="steps"><p class="p">Hit <span class="gui">OK</span> to create volume.</p></li>
</ol></div></div></div>
<div class="note" title="Note"><div class="inner"><div class="region"><div class="contents"><p class="p">All changes you make are only temporary. They won't be written to disks until you use the <span class="gui">Apply</span> button. See <span class="link"><a href="actions.html" title="Actions">Actions</a></span>.</p></div></div></div></div>
</div></div>
</div></div>
<div id="delete" class="sect"><div class="inner">
<div class="hgroup"><h2 class="title"><span class="title">Deleting LVM2 Storages</span></h2></div>
<div class="region"><div class="contents">
<p class="p">Because only devices without any active child devices can be deleted, to delete whole LVM2 storage it is neccessary to first delete all
LVM2 logical volumes, then delete the volume group and at last delete all physical volumes.</p>
<div class="steps"><div class="inner"><div class="region"><ol class="steps">
<li class="steps"><p class="p">From list of devices in section <span class="gui">LVM2 Volume Groups</span> select storage you would like to delete and delete all logical volumes
  on it. (Use the same process as when deleting partition. See <span class="link"><a href="partitioning.html" title="Partitioning">Partitioning</a></span> for more information.)</p></li>
<li class="steps"><p class="p">From list of devices in section <span class="gui">Disks</span> select one of the disks hosting volumes with the volume group you'd like to delete.
  (It doesn't matter which one.)</p></li>
<li class="steps"><p class="p">Select the physical volume and delete it.</p></li>
<li class="steps"><p class="p">Repeat previous for all physical volumes you'd like to delete.</p></li>
</ol></div></div></div>
<div class="note" title="Note"><div class="inner"><div class="region"><div class="contents"><p class="p">All changes you make are only temporary. They won't be written to disks until you use the <span class="gui">Apply</span> button. See <span class="link"><a href="actions.html" title="Actions">Actions</a></span>.</p></div></div></div></div>
</div></div>
</div></div>
<div class="sect sect-links" role="navigation">
<div class="hgroup"></div>
<div class="contents"><div class="links guidelinks"><div class="inner">
<div class="title"><h2><span class="title">More Information</span></h2></div>
<div class="region"><ul><li class="links ">
<a href="index.html" title="blivet-gui">blivet-gui</a><span class="desc"> — 
    <span class="link"><a href="kickstart.html" title="Kickstart Mode">Kickstart Mode</a></span>,
    <span class="link"><a href="lvm2.html" title="LVM2 Storages">LVM2 Storages</a></span>,
    <span class="link"><a href="partitioning.html" title="Partitioning">Disk Partitions</a></span>,
    <span class="link"><a href="window.html" title="User interface">User Interface</a></span>…
  </span>
</li></ul></div>
</div></div></div>
</div>
</div>
<div class="clear"></div>
</div>
<div class="footer"><div class="sect about ui-expander" role="contentinfo">
<div class="yelp-data yelp-data-ui-expander" data-yelp-expanded="false"></div>
<div class="inner">
<div class="hgroup"><h2><span class="title">About</span></h2></div>
<div class="region"><div class="contents">
<div class="copyrights"><div class="copyright">© 2014 Vojtech Trefny</div></div>
<div class="aboutblurb authors">
<div class="title"><span class="title">Written By</span></div>
<ul class="credits"><li>Vojtech Trefny</li></ul>
</div>
<div class="aboutblurb license">
<div class="title"><span class="title">Creative Commons</span></div>
<div class="contents"><p class="p">This work is licensed under a <span class="link"><a href="http://creativecommons.org/licenses/by-sa/3.0/" title="http://creativecommons.org/licenses/by-sa/3.0/">Creative
  Commons Attribution-ShareAlike 3.0 Unported License</a></span>.</p></div>
</div>
</div></div>
</div>
</div></div>
</div></body>
</html>
